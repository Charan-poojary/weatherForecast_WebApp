(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(n,a,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(1629)}])},1629:function(n,a,i){"use strict";i.r(a),i.d(a,{default:function(){return g}});var e=i(5893),s=i(7294),l=i(2920),t=i(6154);let o=async(n,a)=>{try{let i="".concat(n,",").concat(a),e=await t.Z.get("https://weatherapi-com.p.rapidapi.com/current.json",{params:{q:i},headers:{"X-RapidAPI-Key":"21ae68e8d8msha056b38aed1dbf5p1ed457jsn8fea35201379","X-RapidAPI-Host":"weatherapi-com.p.rapidapi.com"}});return console.log(e.data),e.data}catch(n){return console.error("Error getting the weather:",n),l.Am.error("Apocalypse is near! Couldn't load weather"),null}};var r=i(2489),c=i(9417),d=n=>{var a;let{sidebarVisible:i,toggleSideBar:s,weather:l}=n,t=null==l?void 0:null===(a=l.current)||void 0===a?void 0:a.is_day,o="";return o=1==t?"Day":0==t?"Night":"--",(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"top-main",children:[(0,e.jsx)("div",{className:"top-day-night",children:(0,e.jsx)("b",{children:o})}),(0,e.jsx)("div",{className:"top-head",children:(0,e.jsx)("h3",{children:"Weather Forecast"})}),(0,e.jsx)("div",{className:"top-sidebar-icon",onClick:()=>{s()},children:(0,e.jsx)(r.G,{icon:c.xiG,className:"sidebar-icon",style:{fontSize:"1.3em"}})})]})})},m=n=>{var a,i,s,l,t,o,r,c,d,m,u,p,h,_;let{weather:b}=n;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"mid-main",children:(0,e.jsxs)("div",{className:"mid-main-img",children:[(0,e.jsx)("img",{src:null!==(m=null==b?void 0:null===(i=b.current)||void 0===i?void 0:null===(a=i.condition)||void 0===a?void 0:a.icon)&&void 0!==m?m:"/dummy/path",alt:"Weather Forecast"}),(0,e.jsx)("div",{className:"mid-temp",children:(null==b?void 0:null===(s=b.current)||void 0===s?void 0:s.temp_c)?"".concat(b.current.temp_c,"\xb0C"):(null==b?void 0:null===(l=b.current)||void 0===l?void 0:l.temp_f)?"".concat(b.current.temp_f,"\xb0F"):"--"}),(0,e.jsx)("div",{className:"mid-text",children:null!==(u=null==b?void 0:null===(o=b.current)||void 0===o?void 0:null===(t=o.condition)||void 0===t?void 0:t.text)&&void 0!==u?u:"--"}),(0,e.jsxs)("div",{className:"mid-loc",children:[null!==(p=null==b?void 0:null===(r=b.location)||void 0===r?void 0:r.name)&&void 0!==p?p:"--",",",null!==(h=null==b?void 0:null===(c=b.location)||void 0===c?void 0:c.region)&&void 0!==h?h:"--",",",null!==(_=null==b?void 0:null===(d=b.location)||void 0===d?void 0:d.country)&&void 0!==_?_:"--"]})]})})})},u=n=>{var a,i,s,l,t,o;let{weather:r}=n;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"bot-main",children:[(0,e.jsx)("div",{className:"bot-inner",children:(0,e.jsxs)("center",{children:[(0,e.jsx)("div",{children:(0,e.jsx)("b",{children:"Wind Now"})}),(0,e.jsx)("div",{children:(0,e.jsxs)("b",{children:[null!==(l=null==r?void 0:null===(a=r.current)||void 0===a?void 0:a.wind_kph)&&void 0!==l?l:"--"," kph"]})})]})}),(0,e.jsx)("div",{className:"bot-inner",children:(0,e.jsxs)("center",{children:[(0,e.jsx)("div",{children:(0,e.jsx)("b",{children:"Humidity"})}),(0,e.jsx)("div",{children:(0,e.jsxs)("b",{children:[null!==(t=null==r?void 0:null===(i=r.current)||void 0===i?void 0:i.humidity)&&void 0!==t?t:"--"," %"]})})]})}),(0,e.jsx)("div",{className:"bot-inner",children:(0,e.jsxs)("center",{children:[(0,e.jsx)("div",{children:(0,e.jsx)("b",{children:"Wind Direction"})}),(0,e.jsx)("div",{children:(0,e.jsx)("b",{children:null!==(o=null==r?void 0:null===(s=r.current)||void 0===s?void 0:s.wind_dir)&&void 0!==o?o:"--"})})]})})]})})};let p=n=>new Promise((a,i)=>{let e="https://nominatim.openstreetmap.org/search?q=".concat(encodeURIComponent(n),"&format=json");fetch(e).then(n=>n.json()).then(n=>{if(n.length>0){let i=[];for(let a=0;a<Math.min(5,n.length);a++)i.push({latitude:n[a].lat,longitude:n[a].lon});a(i)}else i("No results found for the address"),l.Am.error("No Location Found, Please type something else")}).catch(n=>{i("Error converting address to LatLng: ".concat(n.message))})}),h=0;var _=n=>{let{setHomePageWeather:a}=n,[i,l]=(0,s.useState)(""),[t,r]=(0,s.useState)([]),[c,d]=(0,s.useState)(null),[m,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(0!=h){var n,i,s,l,t,o;let d=null==c?void 0:null===(n=c.current)||void 0===n?void 0:n.is_day,m="";m=1==d?"Day":0==d?"Night":"--",r(n=>{var r,d,u,p,_,b,v,g,y;return[...n,(0,e.jsxs)("div",{className:"search-result",onClick:()=>a(c),children:["  ",(0,e.jsxs)("div",{className:"search-result-sub1",children:[(0,e.jsx)("div",{className:"search-result-day-night",children:(0,e.jsx)("b",{children:m})}),(0,e.jsx)("div",{className:"search-result-text",children:(0,e.jsx)("b",{children:null!==(i=null==c?void 0:null===(d=c.current)||void 0===d?void 0:null===(r=d.condition)||void 0===r?void 0:r.text)&&void 0!==i?i:"--"})}),(0,e.jsxs)("div",{className:"search-result-loc",children:[null!==(s=null==c?void 0:null===(u=c.location)||void 0===u?void 0:u.name)&&void 0!==s?s:"--",",",null!==(l=null==c?void 0:null===(p=c.location)||void 0===p?void 0:p.region)&&void 0!==l?l:"--",",",null!==(t=null==c?void 0:null===(_=c.location)||void 0===_?void 0:_.country)&&void 0!==t?t:"--"]})]}),(0,e.jsxs)("div",{className:"search-result-sub2",children:[(0,e.jsx)("div",{className:"search-result-img",children:(0,e.jsx)("img",{src:null!==(o=null==c?void 0:null===(v=c.current)||void 0===v?void 0:null===(b=v.condition)||void 0===b?void 0:b.icon)&&void 0!==o?o:"--",alt:"Weather Forecast"})}),(0,e.jsx)("div",{className:"search-result-temp",children:(0,e.jsx)("b",{children:(null==c?void 0:null===(g=c.current)||void 0===g?void 0:g.temp_c)?"".concat(c.current.temp_c,"\xb0C"):(null==c?void 0:null===(y=c.current)||void 0===y?void 0:y.temp_f)?"".concat(c.current.temp_f,"\xb0F"):"--"})})]})]},h)].reverse()})}},[c]);let _=async n=>{l(n);try{let n=await p(i);if(n.length>0)for(let a=0;a<n.length;a++){let i=n[a],e=i.latitude,s=i.longitude;if(null!==e&&null!==s){let n=async()=>{let n=await o(e,s);n&&(d(n),h++)};n()}}}catch(n){console.error(n)}},b=n=>{u(n.target.value)};return(0,s.useEffect)(()=>{if(null!==m){let n=document.createElement("style");return n.textContent="\n      .top-main,.bot-inner,.mid-main-img,.side-bar-container-open { backdrop-filter: blur(".concat(m,"px); }\n    "),document.head.appendChild(n),()=>{document.head.removeChild(n)}}},[m]),(0,e.jsxs)("div",{className:"sidebar-main",children:[(0,e.jsx)("h3",{children:"Search"}),(0,e.jsx)("div",{className:"search-bar",children:(0,e.jsx)("input",{type:"text",className:"search-input",placeholder:"Search location",onChange:n=>{(""===n.target.value||null===n.target.value)&&r([]),l(n.target.value||"")},onKeyDown:n=>"Enter"===n.key?_():n.isDefaultPrevented(!1)})}),(0,e.jsx)("div",{className:"search-result-container",children:t}),(0,e.jsx)("h5",{style:{margin:"2%"},children:"Blur Intensity"}),(0,e.jsxs)("div",{className:"blur-options-main",children:[(0,e.jsxs)("div",{className:"blur-options-sub1",children:[(0,e.jsxs)("label",{style:{marginRight:"1%"},children:[(0,e.jsx)("input",{type:"radio",value:"0",checked:"0"===m,onChange:b,style:{marginRight:"1%"}}),"0%"]}),(0,e.jsxs)("label",{style:{marginRight:"1%"},children:[(0,e.jsx)("input",{type:"radio",value:"1",checked:"1"===m||null===m,onChange:b,style:{marginRight:"1%"}}),"10%"]})]}),(0,e.jsxs)("div",{className:"blur-options-sub2",children:[(0,e.jsxs)("label",{style:{marginRight:"1%"},children:[(0,e.jsx)("input",{type:"radio",value:"2",checked:"2"===m,onChange:b,style:{marginRight:"1%"}}),"20%"]}),(0,e.jsxs)("label",{style:{marginRight:"1%"},children:[(0,e.jsx)("input",{type:"radio",value:"5",checked:"5"===m,onChange:b,style:{marginRight:"1%"}}),"50%"]})]})]})]})};let b={1e3:"../anims/day/back_sunny.mp4",1003:"../anims/day/back_sunny.mp4",1006:"../anims/day/back_cloudy.mp4",1009:"../anims/day/back_cloudy.mp4",1030:"../anims/back_mist.mp4",1063:"../anims/day/back_rain_possible.mp4",1066:"../anims/day/back_moderate_snow.mp4",1069:"../anims/day/back_rain_possible.mp4",1072:"../anims/day/back_rain_possible.mp4",1087:"../anims/day/back_cloudy.mp4",1114:"../anims/day/back_moderate_snow.mp4",1117:"../anims/day/back_moderate_snow.mp4",1135:"../anims/back_mist.mp4",1147:"../anims/back_mist.mp4",1150:"../anims/day/back_rain_possible.mp4",1153:"../anims/day/back_rain_possible.mp4",1168:"../anims/day/back_rain_possible.mp4",1171:"../anims/day/back_rain.mp4",1180:"../anims/day/back_rain_possible.mp4",1183:"../anims/day/back_rain_possible.mp4",1186:"../anims/day/back_rain_possible.mp4",1189:"../anims/day/back_rain_possible.mp4",1192:"../anims/day/back_rain.mp4",1195:"../anims/day/back_rain.mp4",1198:"../anims/day/back_rain_possible.mp4",1201:"../anims/day/back_rain.mp4",1204:"../anims/day/back_rain.mp4",1207:"../anims/day/back_rain.mp4",1210:"../anims/day/back_moderate_snow.mp4",1213:"../anims/day/back_moderate_snow.mp4",1216:"../anims/day/back_moderate_snow.mp4",1219:"../anims/day/back_moderate_snow.mp4",1222:"../anims/day/back_moderate_snow.mp4",1225:"../anims/day/back_moderate_snow.mp4",1237:"../anims/day/back_moderate_snow.mp4",1240:"../anims/day/back_rain_possible.mp4",1243:"../anims/day/back_rain.mp4",1246:"../anims/day/back_rain.mp4",1249:"../anims/day/back_rain_possible.mp4",1252:"../anims/day/back_rain.mp4",1255:"../anims/day/back_moderate_snow.mp4",1258:"../anims/day/back_moderate_snow.mp4",1261:"../anims/day/back_moderate_snow.mp4",1264:"../anims/day/back_moderate_snow.mp4",1273:"../anims/day/back_heavy_rain.mp4",1276:"../anims/day/back_heavy_rain.mp4",1279:"../anims/back_heavy_snow.mp4",1282:"../anims/back_heavy_snow.mp4"},v={1e3:"../anims/night/back_sunny.mp4",1003:"../anims/night/back_sunny.mp4",1006:"../anims/night/back_cloudy.mp4",1009:"../anims/night/back_cloudy.mp4",1030:"../anims/back_mist.mp4",1063:"../anims/night/back_rain_possible.mp4",1066:"../anims/night/back_moderate_snow.mp4",1069:"../anims/night/back_rain_possible.mp4",1072:"../anims/night/back_rain_possible.mp4",1087:"../anims/night/back_cloudy.mp4",1114:"../anims/night/back_moderate_snow.mp4",1117:"../anims/night/back_moderate_snow.mp4",1135:"../anims/back_mist.mp4",1147:"../anims/back_mist.mp4",1150:"../anims/night/back_rain_possible.mp4",1153:"../anims/night/back_rain_possible.mp4",1168:"../anims/night/back_rain_possible.mp4",1171:"../anims/night/back_rain_possible.mp4",1180:"../anims/night/back_rain_possible.mp4",1183:"../anims/night/back_rain_possible.mp4",1186:"../anims/night/back_rain_possible.mp4",1189:"../anims/night/back_rain_possible.mp4",1192:"../anims/night/back_rain.mp4",1195:"../anims/night/back_rain.mp4",1198:"../anims/night/back_rain_possible.mp4",1201:"../anims/night/back_rain.mp4",1204:"../anims/night/back_rain.mp4",1207:"../anims/night/back_rain.mp4",1210:"../anims/night/back_moderate_snow.mp4",1213:"../anims/night/back_moderate_snow.mp4",1216:"../anims/night/back_moderate_snow.mp4",1219:"../anims/night/back_moderate_snow.mp4",1222:"../anims/night/back_moderate_snow.mp4",1225:"../anims/night/back_moderate_snow.mp4",1237:"../anims/night/back_moderate_snow.mp4",1240:"../anims/night/back_rain_possible.mp4",1243:"../anims/night/back_rain.mp4",1246:"../anims/night/back_rain.mp4",1249:"../anims/night/back_rain_possible.mp4",1252:"../anims/night/back_rain.mp4",1255:"../anims/night/back_moderate_snow.mp4",1258:"../anims/night/back_moderate_snow.mp4",1261:"../anims/night/back_moderate_snow.mp4",1264:"../anims/night/back_moderate_snow.mp4",1273:"../anims/night/back_heavy_rain.mp4",1276:"../anims/night/back_heavy_rain.mp4",1279:"../anims/back_heavy_snow.mp4",1282:"../anims/back_heavy_snow.mp4"};var g=()=>{let[n,a]=(0,s.useState)(null),[i,t]=(0,s.useState)(null),[r,c]=(0,s.useState)(null),p=async()=>{try{navigator.geolocation?navigator.geolocation.getCurrentPosition(n=>{a(n.coords.latitude),t(n.coords.longitude)},n=>{console.error("Error getting location:",n.message),l.Am.error("Oops!,Error getting your current location!")}):l.Am.error("Sad!,seems like your browser does not support geolocation")}catch(n){console.log("Couldnt retrieve current location",n),l.Am.error("Oops!,Something went wrong while getting your current location")}};(0,s.useEffect)(()=>{p()},[]),(0,s.useEffect)(()=>{if(null!==n&&null!==i){let a=async()=>{let a=await o(n,i);a&&c(a)};a()}},[n,i]);let[h,g]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{var n,a,i,e,s;let l=document.getElementById("video-bg"),t=null==r?void 0:null===(a=r.current)||void 0===a?void 0:null===(n=a.condition)||void 0===n?void 0:n.code,o=null==r?void 0:null===(i=r.current)||void 0===i?void 0:i.temp_f,c=null==r?void 0:null===(e=r.current)||void 0===e?void 0:e.is_day,d=[1e3,1003,1006,1009];if(1==c){let n=null==r?void 0:null===(s=r.location)||void 0===s?void 0:s.localtime,a=new Date(n),i=a.getHours();if(o<32&&d.includes(t))l.src="/anims/snow_day_clear.mp4";else if(i>=18&&i<21&&d.includes(t))l.src="/anims/day/back_evening_sunny.mp4";else{let n=b[t]||"/anims/day/back_sunny.mp4";l.src=n}}else if(o<32&&d.includes(t))l.src="/anims/snow_night_clear.mp4";else{let n=v[t]||"/anims/night/back_sunny.mp4";l.src=n}},[r]),(0,e.jsxs)("div",{className:"main",children:[(0,e.jsxs)("video",{autoPlay:!0,muted:!0,loop:!0,id:"video-bg",children:[(0,e.jsx)("source",{src:"/anims/back_sunny.mp4",type:"video/mp4/mov"}),"Sad, Your Browser does not support video tags!!!"]}),(0,e.jsxs)("div",{className:"sub-main",children:[(0,e.jsx)(d,{weather:r,sidebarVisible:h,toggleSideBar:()=>{g(!h)}}),(0,e.jsx)(m,{weather:r}),(0,e.jsx)(u,{weather:r})]}),(0,e.jsx)("div",{className:"side-bar-container ".concat(h?"side-bar-container-open":""),children:(0,e.jsx)(_,{setHomePageWeather:n=>{c(n),console.log(n)}})})]})}}},function(n){n.O(0,[976,686,774,888,179],function(){return n(n.s=5557)}),_N_E=n.O()}]);